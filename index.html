<div class="app-container">
    <header class="header">
        <h1>GovTrans & AI Portal</h1>
        <div class="badge">SECURE GOV CLOUD</div>
    </header>

    <div class="upload-section">
        <label class="label">Step 1: Upload Legal Document (.txt)</label>
        <input type="file" id="fileInput" accept=".txt">
    </div>

    <div class="control-center">
        <label class="label">Step 2: Choose Service</label>
        <div class="btn-group">
            <button class="btn-primary" onclick="process('summarize')">AI Chatbot Summary</button>
            <button class="btn-primary" onclick="process('translate')">Legal Translation</button>
        </div>
    </div>

    <div class="output-area">
        <label class="label">Result Output</label>
        <div id="outputBox" class="result-display">Your processed document will appear here...</div>
    </div>
</div>

<script>
async function process(actionType) {
    const fileInput = document.getElementById('fileInput');
    const outputBox = document.getElementById('outputBox');

    if (!fileInput.files[0]) return alert("Please upload a document first.");

    const formData = new FormData();
    formData.append('document', fileInput.files[0]);
    formData.append('action', actionType);

    outputBox.innerText = `Connecting to ${actionType} engine...`;

    try {
        const response = await fetch('http://localhost:3000/process-document', {
            method: 'POST',
            body: formData
        });
        const data = await response.json();
        outputBox.innerText = data.result;
    } catch (err) {
        outputBox.innerText = "Error: " + err.message;
    }
}
</script>
